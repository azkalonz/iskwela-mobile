(this.webpackJsonpIskwela=this.webpackJsonpIskwela||[]).push([[1],{115:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(30),i=n.n(r),o=n(3),a=n(64),l=(n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(22)),j=n(13),u=(n(96),n(4)),d=n.n(u),b=n(9),O=n(21),h=n(45),f=n(15),x={headerTitle:"",setHeaderTitle:Object(l.b)((function(e,t){e.headerTitle=t}))},m=n(66),p=n.n(m).a.create({baseURL:"https://dev-middleware.iskwela.net/api/"}),g={isLoggedIn:!1,logout:Object(l.b)((function(e){e.isLoggedIn=!1,e.accessToken=""})),setAccessToken:Object(l.f)(function(){var e=Object(b.a)(d.a.mark((function e(t,n){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("user?include=preferences",{headers:{Authorization:"".concat(n.type," ").concat(n.token)}});case 2:if(200!==(s=e.sent).status){e.next=6;break}return t.setInfo(s.data),e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),setInfo:Object(l.b)((function(e,t){e.info=t,e.isLoggedIn=!0})),setIsLoggedIn:Object(l.b)((function(e,t){e.isLoggedIn=t})),getItem:function(e){return e},removeItem:function(e){},setItem:function(e,t){}},y=Object(l.c)({nonPersistent:x,userStorage:Object(l.e)(g,{storage:"localStorage"})},{version:1}),v=Object(l.d)(),k=v.useStoreActions,w=(v.useStoreDispatch,v.useStoreState),_=y,I=(n(63),n(115),n(1)),S=function(){var e=Object(j.d)(),t=w((function(e){return e.nonPersistent})).headerTitle,n=Object(s.useRef)(document.createElement("ion-menu"));return Object(I.jsxs)(o.s,{side:"start",menuId:"first",contentId:"router-outlet",id:"class-menu",ref:n,children:[Object(I.jsxs)(o.l,{children:[Object(I.jsxs)(o.A,{children:[Object(I.jsx)(o.c,{onClick:function(){e.replace("/")},color:"transparent",slot:"start",children:Object(I.jsx)("div",{className:"icon-classes",slot:"end",style:{fontSize:20}})}),Object(I.jsx)(o.y,{slot:"start",className:"class-name",children:t}),Object(I.jsx)(o.c,{onClick:function(){n.current.close()},color:"transparent",slot:"end",children:Object(I.jsx)("div",{className:"icon-menu-close",slot:"end",style:{fontSize:20}})})]}),Object(I.jsx)(o.n,{className:"class-cover",src:"https://iskwela.sgp1.digitaloceanspaces.com/SCHOOL01/public/VJP4bYZByPqp7ytutWosgmWHtXfcLKlJ1OqA9qYf.png"}),Object(I.jsxs)(o.x,{className:"class-schedule",children:[Object(I.jsx)(o.j,{children:Object(I.jsx)(o.y,{children:"April 1, 2021"})}),Object(I.jsx)(o.j,{children:Object(I.jsx)(o.y,{children:"10:00 AM - 12:00 PM"})})]})]}),Object(I.jsx)(o.k,{})]})};var N=function(){var e=Object(j.d)(),t=Object(s.useRef)(document.createElement("ion-menu")),n=Object(j.e)();return Object(s.useEffect)((function(){var e,s={"/":"Classes","/class":"English 101","/class/":"English 101"}[n.pathname]||"";t.current.close(),e=s,document.querySelector("#main-header ion-title").innerText=e}),[n]),Object(I.jsxs)(o.s,{side:"start",menuId:"first",contentId:"router-outlet",ref:t,children:[Object(I.jsx)(o.l,{className:"no-shadow",children:Object(I.jsxs)(o.A,{children:[Object(I.jsx)("img",{className:"logo",src:"/logo/logo-full-colored.svg",width:"120",alt:"iSkwela"}),Object(I.jsx)(o.c,{onClick:function(){t.current.close()},color:"transparent",slot:"end",children:Object(I.jsx)(o.m,{icon:f.h,slot:"end",size:"large"})})]})}),Object(I.jsx)(o.k,{children:Object(I.jsx)(o.r,{lines:"none",children:Object(I.jsxs)(o.p,{className:"/"===n.pathname?"selected":"",onClick:function(){e.replace("/")},children:[Object(I.jsx)("div",{className:"icon",children:Object(I.jsx)("div",{className:"icon-classes",slot:"start"})}),Object(I.jsx)(o.q,{children:"Classes"})]})})})]})};function E(){var e;return"has-header "+(null===(e=Object(o.I)())||void 0===e?void 0:e.get("mode"))}var C=function(){var e=Object(o.K)(),t=Object(O.a)(e,1)[0],n=Object(j.d)(),c=Object(j.e)(),r=w((function(e){return e.nonPersistent})).headerTitle,i=w((function(e){return e.userStorage})).info,a=k((function(e){return e.userStorage})).logout,l=Object(s.useRef)(document.querySelector("ion-header")),u=function(){a(),n.replace("/login")},x=Object(s.useCallback)(Object(b.a)(d.a.mark((function e(){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(null===i||void 0===i?void 0:i.first_name)+" "+(null===i||void 0===i?void 0:i.last_name),!Object(o.J)("desktop")){e.next=5;break}t({header:s,buttons:[{icon:f.j,text:"Logout",handler:u}]}),e.next=13;break;case 5:return e.next=7,h.a.showActions({title:s,message:"Options",options:[{title:"Logout"},{title:"Cancel",style:h.b.Destructive}]});case 7:c=e.sent,e.t0=c.index,e.next=0===e.t0?11:13;break;case 11:return n.replace("/login"),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)}))),[i]);return Object(s.useEffect)((function(){l.current&&("/login"===c.pathname?l.current.style.display="none":l.current.style.display="initial")}),[c]),Object(I.jsxs)(I.Fragment,{children:[c.pathname.indexOf("class")<0?Object(I.jsx)(N,{}):Object(I.jsx)(S,{}),Object(I.jsx)(o.l,{id:"main-header",ref:l,children:Object(I.jsxs)(o.A,{children:[Object(I.jsx)(o.d,{slot:"start",children:Object(I.jsx)(o.t,{autoHide:!1})}),Object(I.jsx)(o.z,{children:r}),Object(I.jsxs)(o.d,{slot:"end",children:[Object(I.jsx)(o.b,{slot:"end",style:{height:30,width:30},children:Object(I.jsx)("img",{src:"https://static.toiimg.com/photo/msid-84340517/84340517.jpg",alt:"Lisa"})}),Object(I.jsx)(o.c,{onClick:x,children:Object(I.jsx)(o.m,{slot:"end",icon:f.c})})]})]})})]})},L=function(){var e=k((function(e){return e.nonPersistent})).setHeaderTitle;return Object(o.O)((function(){e("English 101")})),Object(I.jsx)(o.u,{className:E(),children:Object(I.jsxs)(o.k,{children:[Object(I.jsx)("br",{}),Object(I.jsx)(o.y,{children:"Class Page"})]})})},P=function(e){var t=e.title,n=e.description,s=e.timeStart,c=e.coverImg,r=e.timeEnd,i=e.date,a=e.teacherImg,l=e.teacherName,u=Object(j.d)();return Object(I.jsxs)(o.e,{className:"class",onClick:function(){u.push("/class")},children:[Object(I.jsxs)(o.g,{style:{backgroundImage:'url("'.concat(c,'")')},children:[Object(I.jsx)(o.i,{children:t}),Object(I.jsx)(o.h,{children:n})]}),Object(I.jsxs)(o.f,{children:[Object(I.jsxs)("div",{className:"class-details",children:[Object(I.jsxs)(o.y,{children:[s," - ",r]}),Object(I.jsx)("br",{}),Object(I.jsx)(o.y,{children:i})]}),Object(I.jsx)(o.b,{children:Object(I.jsx)("img",{src:"".concat(a)})}),Object(I.jsx)("div",{className:"class-teacher",children:Object(I.jsx)(o.y,{children:l})})]})]})},T=(n(117),function(){var e=Object(o.L)(),t=Object(O.a)(e,1)[0],n=Object(j.d)(),c=function(){var e=w((function(e){return e.userStorage})).isLoggedIn,t=Object(s.useState)(e),n=Object(O.a)(t,2),c=(n[0],n[1]);return Object(s.useEffect)((function(){c(e)}),[e]),e}(),r=k((function(e){return e.nonPersistent})).setHeaderTitle;return Object(o.O)((function(){r("Classes")}),[]),Object(s.useEffect)((function(){c||n.replace("/login")}),[c]),Object(I.jsx)(o.u,{className:E(),children:Object(I.jsx)(o.k,{fullscreen:!0,children:Object(I.jsxs)("div",{id:"classes",children:[Object(I.jsx)(o.p,{className:"iskwela-theme",children:Object(I.jsx)(o.o,{clearOnEdit:!1,placeholder:"Search",children:Object(I.jsx)(o.c,{slot:"end",onClick:function(){t("Search")},children:Object(I.jsx)(o.m,{icon:f.o})})})}),Object(I.jsx)(P,{title:"English 101",description:"Fundamentals",teacherName:"Lisa Manoban",teacherImg:"https://static.toiimg.com/photo/msid-84340517/84340517.jpg",coverImg:"/class/english.svg",timeStart:"9:00 AM",timeEnd:"10:00 AM",date:"2 September 2021"})]})})})}),A=(n(118),function(){var e=Object(j.d)(),t=Object(o.N)(),n=Object(O.a)(t,1)[0],c=Object(o.M)(),r=Object(O.a)(c,2),i=r[0],a=r[1],l=Object(s.useRef)(document.createElement("ion-input")),u=Object(s.useRef)(document.createElement("ion-input")),h=k((function(e){return e.userStorage})).setAccessToken,f=function(){var t=Object(b.a)(d.a.mark((function t(){var s,c,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=l.current.value,c=u.current.value,i(),t.prev=3,t.next=6,p.post("login?username=".concat(s,"&password=").concat(c));case 6:return r=t.sent,t.next=9,h({type:r.data.token_type,token:r.data.access_token});case 9:t.sent&&e.replace("/"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),(o=t.t0).response&&(401===o.response.status?n("Invalid Username/Password",2e3):n("Something went wrong. Please try again."));case 17:a();case 18:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsx)(o.u,{id:"login",children:Object(I.jsxs)("div",{className:"login-wrapper",children:[Object(I.jsx)("img",{src:"/assets/icon/logo-single.svg",width:"80"}),Object(I.jsx)("h1",{children:"Sign in to iSkwela"}),Object(I.jsxs)(o.p,{className:"iskwela-theme",children:[Object(I.jsx)(o.q,{position:"floating",children:"Username"}),Object(I.jsx)(o.o,{clearOnEdit:!1,ref:l})]}),Object(I.jsxs)(o.p,{className:"iskwela-theme",children:[Object(I.jsx)(o.q,{position:"floating",children:"Password"}),Object(I.jsx)(o.o,{type:"password",clearOnEdit:!1,ref:u})]}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(o.c,{color:"secondary",class:"full",onClick:function(){f()},children:"Sign In"})]})})}),M=(n(119),function(){return Object(I.jsx)(o.a,{children:Object(I.jsx)(l.a,{store:_,children:Object(I.jsxs)(a.a,{children:[Object(I.jsx)(C,{}),Object(I.jsxs)(o.w,{id:"router-outlet",children:[Object(I.jsx)(j.a,{exact:!0,path:"/",component:T}),Object(I.jsx)(j.a,{exact:!0,path:"/login",component:A}),Object(I.jsx)(j.a,{exact:!0,path:"/class/:id?",component:L})]})]})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=function(e){e&&e instanceof Function&&n.e(59).then(n.bind(null,183)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),r(e),i(e)}))};i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(M,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),q()},63:function(e,t,n){},75:function(e,t,n){var s={"./ion-action-sheet.entry.js":[122,5],"./ion-alert.entry.js":[123,6],"./ion-app_8.entry.js":[124,7],"./ion-avatar_3.entry.js":[125,17],"./ion-back-button.entry.js":[126,18],"./ion-backdrop.entry.js":[127,44],"./ion-button_2.entry.js":[128,19],"./ion-card_5.entry.js":[129,20],"./ion-checkbox.entry.js":[130,21],"./ion-chip.entry.js":[131,22],"./ion-col_3.entry.js":[132,45],"./ion-datetime_3.entry.js":[133,10],"./ion-fab_3.entry.js":[134,23],"./ion-img.entry.js":[135,46],"./ion-infinite-scroll_2.entry.js":[136,47],"./ion-input.entry.js":[137,24],"./ion-item-option_3.entry.js":[138,25],"./ion-item_8.entry.js":[139,26],"./ion-loading.entry.js":[140,27],"./ion-menu_3.entry.js":[141,28],"./ion-modal.entry.js":[142,8],"./ion-nav_2.entry.js":[143,14],"./ion-popover.entry.js":[144,9],"./ion-progress-bar.entry.js":[145,29],"./ion-radio_2.entry.js":[146,30],"./ion-range.entry.js":[147,31],"./ion-refresher_2.entry.js":[148,11],"./ion-reorder_2.entry.js":[149,16],"./ion-ripple-effect.entry.js":[150,48],"./ion-route_4.entry.js":[151,32],"./ion-searchbar.entry.js":[152,33],"./ion-segment_2.entry.js":[153,34],"./ion-select_3.entry.js":[154,35],"./ion-slide_2.entry.js":[155,49],"./ion-spinner.entry.js":[156,13],"./ion-split-pane.entry.js":[157,50],"./ion-tab-bar_2.entry.js":[158,36],"./ion-tab_2.entry.js":[159,15],"./ion-text.entry.js":[160,37],"./ion-textarea.entry.js":[161,38],"./ion-toast.entry.js":[162,39],"./ion-toggle.entry.js":[163,12],"./ion-virtual-scroll.entry.js":[164,51]};function c(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(s)},c.id=75,e.exports=c},77:function(e,t,n){var s={"./ion-icon.entry.js":[165,58]};function c(e){if(!n.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(s)},c.id=77,e.exports=c},96:function(e,t,n){}},[[120,3,4]]]);
//# sourceMappingURL=main.fd24d6d1.chunk.js.map